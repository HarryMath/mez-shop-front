<div class="content-wrapper">
  <div class="content">
    <app-map></app-map>

    <div class="with-columns">
      <div class="item-info">

        <div class="with-columns">
          <div class="item-gallery"></div>
          <div class="main-info">
            <h3 class="name">{{engine.name}}</h3>
            <div class="origin">
              <a class="link" routerLink="/catalog" [queryParams]="{brand : engine.manufacturer}">{{engine.manufacturer}}</a> ·
              <a class="link" routerLink="/catalog" [queryParams]="{type : engine.type.name}">{{engine.type.name}}</a>
            </div>
            <div class="main-characteristics">
              <div><div>фазность: </div><div>{{engine.characteristics.length}}</div></div>
              <div><div>мощности: </div><div>{{getPower()}} кВт</div></div>
              <div><div>масса: </div><div>{{engine.mass}} кг</div></div>
            </div>
            <div class="link" onclick="goTo('characteristics')">все характеристики <i class="fas fa-chevron-down"></i></div>
          </div>
        </div>

        <div class="description" *ngIf="hasDescription()">
          <h5 class="unselectable">Описание</h5>
          <p>{{getDescription()}}</p>
        </div>

        <div class="characteristics" id="characteristics">
          <h5 class="unselectable">Характеристики</h5>
          <div>
            <div class="unselectable">
              <div><div>Р, кВт</div></div>
              <div><div>Номин. частота, <span style="white-space: nowrap">об/мин</span></div></div>
              <div><div>КПД, %</div></div>
              <div><div>cos φ</div></div>
              <div><div>I<span class="index">н</span>, А</div></div>
              <div><div>I<span class="index">п</span>/I<span class="index">н</span></div></div>
              <div><div>М<span class="index">п</span>/М<span class="index">н</span></div></div>
              <div><div>М<span class="index">max</span>/М<span class="index">н</span></div></div>
              <div><div>М<span class="index">min</span>/М<span class="index">н</span></div></div>
            </div>
            <div *ngFor="let row of engine.characteristics">
              <div><div>{{row.power}}</div></div>
              <div><div>{{row.frequency}}</div></div>
              <div><div>{{row.efficiency}}</div></div>
              <div><div>{{row.cosFi}}</div></div>
              <div><div>{{row.electricityNominal220}}|{{row.electricityNominal380}}</div></div>
              <div><div>{{row.electricityRatio}}</div></div>
              <div><div>{{row.momentsRatio}}</div></div>
              <div><div>{{row.momentsMaxRatio}}</div></div>
              <div><div>{{row.momentsMinRatio}}</div></div>
            </div>
          </div>
        </div>
      </div>

      <div class="item-buy-block">
        <div class="price-block">
          <div>Цена: </div><div>₽{{engine.price}}</div>
        </div>
        <div class="count-block unselectable">
          <div>
            <div (click)="less()" [ngClass]="amount < 2 ? 'disabled' : ''">-</div>
            <div>{{amount}}</div>
            <div (click)="more()">+</div>
          </div> шт
        </div>
        <div class="btn btn-primary cart-btn">
          в корзину
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="btn btn-secondary buy-btn">
          купить в 1 клик
        </div>
        <div><i class="fas fa-check"></i> в наличии</div>
      </div>
    </div>

  </div>
</div>
